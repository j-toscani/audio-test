<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      if ("mediaSession" in navigator) {
        navigator.mediaSession.metadata = new MediaMetadata({
          title: "Mein Audio",
          artist: "Künstler",
          album: "Album",
        });

        const audio = document.querySelector("audio");

        // Play/Pause Buttons
        navigator.mediaSession.setActionHandler("play", () => {
          audio.play();
        });

        navigator.mediaSession.setActionHandler("pause", () => {
          audio.pause();
        });

        // **Vorspulen (z.B. 10 Sekunden vor)**
        navigator.mediaSession.setActionHandler("seekforward", (details) => {
          const seekTime = details.seekOffset || 10; // Standardmäßig 10 Sekunden
          audio.currentTime = Math.min(
            audio.currentTime + seekTime,
            audio.duration
          );
        });

        // **Zurückspulen (z.B. 10 Sekunden zurück)**
        navigator.mediaSession.setActionHandler("seekbackward", (details) => {
          const seekTime = details.seekOffset || 10; // Standardmäßig 10 Sekunden
          audio.currentTime = Math.max(audio.currentTime - seekTime, 0);
        });

        // **Direktes Springen zu einer bestimmten Stelle (optional)**
        navigator.mediaSession.setActionHandler("seekto", (details) => {
          if (details.seekTime !== undefined) {
            audio.currentTime = details.seekTime;
          }
        });
      }
    </script>
  </body>
</html>
